<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head th:include="fragments/backhead :: default">
</head>
<body>
<div th:replace="fragments/header :: default"></div>

<div id="app">
    <div class="manage-l">
        <div th:replace="fragments/leftnav :: default"></div>
    </div>

    <div class="manage-r">
        <div th:text="${@scoreService.getUserScores()}">...</div>

        <div class="hd_list_right_tt">
            <div class="l"><strong>订单管理</strong><span>共<span th:text="${#lists.size(items)}"></span>条记录</span></div>
            <div class="vip_adv"></div>
        </div>

        <div class="am-tabs-bd am_bdfw">

            <div class="am-alert am-alert-secondary" data-am-alert th:if="${globalMessage}">
                <button type="button" class="am-close">&times;</button>
                <!--<a href="##" class="am-icon-btn am-success am-icon-shield"></a>-->
                <p>
                    <span class="am-icon-lg am-success am-icon-check"></span>
                    <span th:text="${globalMessage}">Some Success message</span>
                </p>
            </div>

            <div class="am-g">
                <form class="am-form-inline" method="post">
                    <div class="am-form-group">
                        <input type="text" id="title" name="title" th:value="${#httpServletRequest.getParameter('title')}"
                               placeholder="请输入活动标题" class="am-form-field am-radius"/>
                    </div>

                    <div class="am-form-group">
                        <input type="text" id="username" name="username" th:value="${#httpServletRequest.getParameter('username')}"
                               placeholder="请输入用户账号" class="am-form-field am-radius"/>
                    </div>

                    <div class="am-form-group">
                        <input type="text" id="displayname" name="displayname" th:value="${#httpServletRequest.getParameter('displayname')}"
                               placeholder="请输入报名人" class="am-form-field am-radius"/>
                    </div>

                    <button type="submit" class="am-btn am-btn-default am-radius">
                        <i class="am-icon-search"></i> 查询
                    </button>
                </form>
            </div>

            <hr data-am-widget="divider" style="" class="am-divider am-divider-default"/>

            <!--<div class="am-g ">-->
                <!--<div class="am-btn-group">-->
                    <!--<button type="button" class="am-btn am-btn-default am-radius" v-on:click="create()">-->
                        <!--<i class="am-icon-plus"></i> 添加-->
                    <!--</button>-->
                <!--</div>-->
            <!--</div>-->

            <!--<hr data-am-widget="divider" style="" class="am-divider am-divider-default"/>-->

            <div class="am-tab-panel am-fade am-in am-active">

                <div class="am-g dis_line">
                    <table class="am-table" id="bmTable" cellspacing="0" width="100%">
                        <thead>
                        <tr>
                            <th>序号</th>
                            <!--<th>ID</th>-->
                            <th>用户账号</th>
                            <th>名称</th>
                            <th>金额</th>
                            <th>付款时间</th>
                            <!--<th>订单时间</th>-->
                            <th>订单内容</th>
                            <th class="hd_table">活动标题</th>
                            <th>票种</th>
                            <th>状态</th>


                        </tr>
                        </thead>

                        <tbody>
                        <tr th:each="item, stat : ${items}">
                            <td></td>
                            <!--<td th:text="${item.get('id')}"></td>-->
                            <td th:text="${item.get('username')}"></td>
                            <td th:text="${item.get('displayname')}"></td>
                            <td th:text="${item.get('price')}"></td>
                            <td th:text="${item.get('pay_time')}?${#dates.format(item.get('pay_time'),'yyyy-MM-dd HH:mm:ss')}"></td>
                            <!--<td th:text="${#dates.format(item.get('created'),'yyyy-MM-dd HH:mm:ss')}"></td>-->
                            <td th:text="${item.get('body')}"></td>
                            <td th:text="${item.get('activity_title')}"></td>
                            <td th:text="${item.get('ticket_title')}"></td>
                            <td>
                                <div th:switch="${item.get('status')}">
                                    <span th:case="2">完成付款</span>
                                    <span th:case="1">未付款</span>
                                    <span th:case="-1">订单取消</span>
                                </div>
                            </td>

                        </tr>
                        </tbody>
                    </table>
                </div>

            </div><!-- am-tabs-bd end -->

        </div>
    </div>
</div>

<div th:replace="fragments/footer :: default"></div>
<script src="https://cdn.bootcss.com/vue/2.5.9/vue.min.js"></script>
<script type="text/javascript" src="/js/sec/manage/payments.js"></script>
</body>
</html>


