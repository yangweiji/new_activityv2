<!DOCTYPE html>
<html lang="zh-cn" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head th:include="fragments/head :: default">

</head>
<body>
<style type="text/css">
    /* Write your styles */
    .c-am-g{
        max-width:400px;
    }
    /* 登陆logo */
    .c-login-logo { font-size: 130px; color: #ff6a4c; }
    .c-alert { text-align: center; margin: 10px;color:#ff6a4c; }
    .am-form-set { margin-bottom: 10px;}
    .c-login-form .c-login-input-text { font-size: 14px!important; padding-left: 48px!important; line-height: 1.8!important; border-radius: 30px!important; margin-top: 8px;}
    .c-login-form .c-login-input-text:focus { border-color: #ff6a4c!important; -webkit-box-shadow: inset 0 1px 1px rgba(225,86,86,.075),0 0 5px rgba(225,86,86,.3)!important;box-shadow: inset 0 1px 1px rgba(225,86,86,.075),0 0 5px rgba(225,86,86,.3)!important; }
    .am-form-set>input:first-child {border-radius: 30px!important;}
    .c-login-form .am-form-icon i {color: #ccc; padding-left: 15px;}
    .c-login-form-submit { background: #ff6a4c; border-radius: 30px; border-color: #ff6a4c;}
    .c-login-form-submit:hover { background: #ff8e77;border-color: #ff8e77;}
    .c-login-form-shortcut { position: relative; height: 30px; line-height: 30px; margin-top: 30px; padding: 0; width: 88%;  overflow: hidden;box-sizing: border-box;-webkit-box-sizing: border-box; }
    .c-login-form-shortcut .c-login-form-hr { background: #ccc;  position: absolute; top:50%; left:0; right:0;display: block;  width: 100%; z-index: 1;}
    .c-login-form-shortcut .c-login-form-hr-font { display: inline-block; padding: 0 16px; background: #fff; position: relative; font-size: 12px; color: #ccc; z-index: 2;}
    .c-login-form-listico { padding-top: 30px;}
    .c-login-form-listico .am-icon-btn { width: 60px; height: 60px; line-height: 60px; font-size: 30px;}
    .c-login-form-listico .am-icon-btn:hover { opacity: .9;}

</style>
<div id="c_pub_register_app" class="am-g c-am-g">
    <!-- LOGO -->
    <div class="am-u-sm-12 am-text-center" >
        <i class="am-icon-twitch c-login-logo"></i>
        <!--<img style="width:50%;" src="/img/activity/logo2.png"/>-->
    </div>

    <!-- 注册框 -->
    <div class="am-u-sm-11 am-u-sm-centered">
        <div class="c-alert" th:if="${param.noexist}">
            手机号不存在
        </div>
        <div class="c-alert"  th:if="${param.vercode}">
            验证码错误或过期
        </div>
        <div th:if="${param.success}" class="am-text-center">
            <a href="/login"  class="c-login-form-submit am-btn am-btn-warning am-round"  th:text="${username} + '密码修改成功，进入登陆页面'"></a>
        </div>
        <div th:unless="${param.success}">
            <div class="c-alert" v-if="error"  v-text="error">

            </div>
            <form th:action="@{/pub/changepassword}" method="post" class="am-form">
            <fieldset class="c-login-form am-form-set">
                <div class="am-form-group am-form-icon">
                    <i class="am-icon-user"></i>
                    <input id="username" required="required" th:attr="data-session=${username}" minlength="11" type="text"  name="username" v-model="username" class="c-login-input-text am-form-field" placeholder="请输入您的手机号" />
                </div>
                <div class="am-form-group am-form-icon">
                    <i class="am-icon-lock"></i>
                    <input required="required" minlength="6" type="password" name="password" class="c-login-input-text am-form-field" placeholder="请输入新密码，至少6个字符" />
                </div>
                <div class="am-form-group am-form-icon" style="margin-right:120px; position: relative; ">
                    <i class="am-icon-lock"></i>
                    <input required="required" minlength="6" type="text"  name="code" class="c-login-form-submit c-login-input-text am-form-field" placeholder="请输入验证码" />
                    <div style="width: 100px;position: absolute;right: -106px; top:2px;">
                        <button type="button" v-bind:disabled="disabled" v-on:click="sendVercode()" class="am-btn am-btn-warning am-round" v-text="vercodeBtnText()">获取验证码</button>
                    </div>
                </div>


            </fieldset>
            <button type="submit" class="c-login-form-submit am-btn am-btn-primary am-btn-block ">修改密码</button>
        </form>
        </div>
    </div>
    <div class="am-text-center am-u-sm-11 am-u-sm-centered c-login-form-shortcut">
        <hr class="c-login-form-hr" />
        <a href="/login" class="c-login-form-hr-font">返回登陆</a>
    </div>
</div>
<script src="https://cdn.bootcss.com/vue/2.5.9/vue.min.js"></script>
<script type="text/javascript"  src="/js/pub/register.js"></script>
</body>
</html>